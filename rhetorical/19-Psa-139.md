Outline of Psalm 139:

Introduction:
- Verse 1: The psalmist acknowledges that God has thoroughly searched and known him.

God's Omnipresence and Omniscience:
- Verses 2-6: The psalmist expresses the depth of God's knowledge of him, from his every action to his every thought. It emphasizes that there is no place the psalmist can go to hide from God's presence.

God's Creation and Divine Plan:
- Verses 7-12: The psalmist contemplates God's omnipresence, describing how there is nowhere he can flee from God's Spirit. From the depths of Sheol to the heights of heaven, God is there. The psalmist emphasizes the creator's hand in all aspects of life, acknowledging that darkness is as light to God.

God's Personal Care and Knowledge:
- Verses 13-16: The psalmist marvels at the details of his own creation, emphasizing that God formed him in his mother's womb. He recognizes that every day of his life was written and planned by God before he was even born.

Invoking God's Judgement:
- Verses 19-22: The psalmist transitions to a more intense tone, calling on God to judge and destroy the wicked who oppose Him. He expresses his own loyalty and hatred for those who hate God, requesting God's guidance and protection from such individuals.

Concluding Prayer:
- Verses 23-24: The psalmist prays to God, asking Him to search and test his heart, leading him in the everlasting way, away from any wickedness or offense. The psalm ends by expressing the psalmist's commitment to God's ways.

Summary:
Psalm 139 is a majestic expression of God's omnipresence, omniscience, and personal care. It explores the depth of God's knowledge about the psalmist, his involvement in creation, and the psalmist's desire for God's judgment on the wicked. The psalm concludes with a prayer surrendering the psalmist's heart to God's guidance and committing to follow His ways.