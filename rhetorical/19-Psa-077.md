I. Introduction (Verses 1-3):
    A. The psalmist expresses his anguish and cries out to God.
    B. The psalmist seeks encouragement and does not find relief.
    C. The psalmist reflects and his spirit is troubled.

II. Remembering God's Faithfulness (Verses 4-9):
    A. The psalmist remembers God's deeds and meditates on them.
    B. The psalmist is unable to sleep.
    C. The psalmist contemplates God's ways and wonders.
    D. The psalmist recalls God's faithfulness in the past.

III. Desperate Plea for Help (Verses 10-15):
    A. The psalmist questions if God has rejected him forever.
    B. The psalmist's soul is cast down and feels forgotten.
    C. The psalmist pleads for God's steadfast love and compassion.
    D. The psalmist desires to see God's mighty works again.

IV. Reflecting on God's Power and Authority (Verses 16-20):
    A. The psalmist recalls God's power displayed in the past.
    B. The psalmist remembers God's presence leading His people.
    C. The psalmist reflects on God's control over the elements.
    D. The psalmist acknowledges God's guidance through the waters.

V. Final Trust in God's Redemption (Verses 21-20):
    A. The psalmist affirms his trust in God's guidance and protection.
    B. The psalmist acknowledges God's redeeming power.
    C. The psalmist praises God's sovereignty and holiness.
    D. The psalmist resolves to follow and worship God forever.

Note: This outline represents a general structure of Psalm 77 and captures the overall rhetorical flow of the psalm as ancient Hebrew wisdom literature.